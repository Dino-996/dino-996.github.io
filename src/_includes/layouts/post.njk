---
layout: layouts/base.njk
---

<article class="mx-auto" style="max-width: 800px;">
  <header class="mb-4">
    <h1 class="fw-bold">{{ title }}</h1>

    <time
      class="text-muted"
      datetime="{{ page.date | dateIso }}"
    >
      {{ page.date | dateHuman }}
    </time>
  </header>

  {% if image %}
    <div class="mb-4">
      <img 
        src="{{ image }}" 
        alt="{{ imageAlt | default('Immagine di copertina') }}" 
        class="img-fluid rounded w-100"
        style="max-height: 400px; object-fit: cover;"
      >
      {% if imageAlt %}
      <figcaption class="text-muted small mt-2 text-center">{{ imageAlt }}</figcaption>
    {% endif %}
  </div>
  {% endif %}

  <hr>

  <section class="content">
    {{ content | safe }}
  </section>

  <hr class="mt-5">
  
  <section class="mt-5" aria-label="Commenti e reazioni">
    <h2 class="h5 fw-bold mb-4">
      <i class="bi bi-chat-dots text-primary me-2"></i>Commenti
    </h2>

      <script>
      (function () {
        const saved = localStorage.getItem('bs-theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const theme = (saved === 'dark' || saved === 'light') ? saved : (prefersDark ? 'dark' : 'light');

        const script = document.createElement('script');
        script.src = 'https://giscus.app/client.js';
        script.setAttribute('data-repo', 'Dino-996/dino-996.github.io');
        script.setAttribute('data-repo-id', 'R_kgDORNULOw');
        script.setAttribute('data-category', 'Announcements');
        script.setAttribute('data-category-id', 'DIC_kwDORNULO84C24dr');
        script.setAttribute('data-mapping', 'pathname');
        script.setAttribute('data-strict', '0');
        script.setAttribute('data-reactions-enabled', '1');
        script.setAttribute('data-emit-metadata', '0');
        script.setAttribute('data-input-position', 'top');
        script.setAttribute('data-theme', theme);
        script.setAttribute('data-lang', 'it');
        script.setAttribute('data-loading', 'lazy');
        script.setAttribute('crossorigin', 'anonymous');
        script.async = true;

        document.currentScript.replaceWith(script);
      })();
    </script>

    <noscript>
      <p class="text-muted small">
        <i class="bi bi-info-circle me-1"></i>
        Per visualizzare i commenti Ã¨ necessario abilitare JavaScript.
        Puoi leggere e partecipare alla discussione direttamente su
        <a href="https://github.com/Dino-996/dino-996.github.io/discussions" target="_blank" rel="noopener noreferrer">GitHub Discussions</a>.
      </p>
    </noscript>
  </section>

</article>