<!DOCTYPE html>
<html lang="it" data-bs-theme="light">
  <head>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>
  Sincronizzazione dei processi · dino-996 blog
</title>

<!-- SEO Meta Tags -->
<meta name="description" content="Viene esaminata la sincronizzazione dei processi nei sistemi operativi, focalizzandosi sulla gestione dell&#39;accesso concorrente a dati condivisi per prevenire le race condition." />
<meta name="author" content="Davide Sabia" />
<meta name="robots" content="index, follow" />

<!-- Canonical URL -->

<link rel="canonical" href="https://dino-996.github.io/blog/sincronizzazione-dei-processi/" />


<!-- Open Graph / Facebook -->
<meta property="og:type" content="article" />

<meta property="og:url" content="https://dino-996.github.io/blog/sincronizzazione-dei-processi/" />

<meta property="og:title" content="Sincronizzazione dei processi" />
<meta property="og:description" content="Viene esaminata la sincronizzazione dei processi nei sistemi operativi, focalizzandosi sulla gestione dell&#39;accesso concorrente a dati condivisi per prevenire le race condition." />
<meta property="og:site_name" content="dino-996 blog" />

<meta property="og:image" content="https://dino-996.github.io/assets/img/webp/sistemi-operativi.webp" />


<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image" />

<meta name="twitter:url" content="https://dino-996.github.io/blog/sincronizzazione-dei-processi/" />

<meta name="twitter:title" content="Sincronizzazione dei processi" />
<meta name="twitter:description" content="Viene esaminata la sincronizzazione dei processi nei sistemi operativi, focalizzandosi sulla gestione dell&#39;accesso concorrente a dati condivisi per prevenire le race condition." />

<meta name="twitter:image" content="https://dino-996.github.io/assets/img/webp/sistemi-operativi.webp" />


<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />

<!-- RSS Feed -->
<link rel="alternate" type="application/rss+xml" title="dino-996 blog RSS Feed" href="/feed.xml" />

<!-- Bootstrap CSS -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
  crossorigin="anonymous"
/>

<!-- Bootstrap icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

<!-- Custom CSS -->
<link rel="stylesheet" href="/assets/css/custom.css" />

<!-- Preconnect for performance -->
<link rel="preconnect" href="https://cdn.jsdelivr.net" />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.28/dist/katex.min.css" integrity="sha384-Wsr4Nh3yrvMf2KCebJchRJoVo1gTU6kcP05uRSh5NV3sj9+a8IomuJoQzf3sMq4T" crossorigin="anonymous">
  </head>

  <body class="d-flex flex-column min-vh-100">

    <nav class="navbar navbar-expand-lg bg-body border-bottom sticky-top">
  <div class="container">
    <a class="navbar-brand fw-bold d-flex align-items-center gap-2" href="/">
      <img 
        src="https://github.com/Dino-996.png" 
        alt="Davide Sabia" 
        class="rounded-circle"
        width="32"
        height="32"
        style="object-fit: cover;"
      >
      <span><span class="text-primary">dino</span>-996</span>
    </a>
    
    <button 
      class="navbar-toggler border-0 p-0" 
      type="button" 
      data-bs-toggle="collapse" 
      data-bs-target="#navbarNav">
      <i class="bi bi-grid-3x3-gap fs-4"></i>
    </button>
    
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">
            Home
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/blog/">
            Blog
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about/">
            About
          </a>
        </li>

        <li class="nav-item mode-switch ms-sm-0 ms-lg-2">
          <div class="d-inline-flex rounded-4 bg-body-tertiary p-1">
            <button title="Dark mode" id="dark" class="btn btn-sm btn-default rounded-4 text-secondary p-2" style="transform: none; box-shadow: none">
              <i class="bi bi-moon"></i>
            </button>

            <button title="Light mode" id="light" class="btn btn-sm btn-default rounded-4 text-warning p-2" style="transform: none; box-shadow: none">
              <i class="bi bi-sun"></i>
            </button>
          </div>
        </li>

      </ul>
    </div>
  </div>
</nav>

    <main class="container my-5 flex-grow-1">
      
<article class="mx-auto" style="max-width: 800px;">
  <header class="mb-4">
    <h1 class="fw-bold">Sincronizzazione dei processi</h1>

    <time
      class="text-muted"
      datetime="2020-02-03T00:00:00.000Z"
    >
      03 febbraio 2020
    </time>
  </header>

  
    <div class="mb-4">
      <img 
        src="/assets/img/webp/sistemi-operativi.webp" 
        alt="Immagine generata con IA" 
        class="img-fluid rounded w-100"
        style="max-height: 400px; object-fit: cover;"
      >
      
      <figcaption class="text-muted small mt-2 text-center">Immagine generata con IA</figcaption>
    
  </div>
  

  <hr>

  <section class="content">
    <h1>Introduzione</h1>
<p>In questo articolo esploriamo la sincronizzazione dei processi per garantire mutua esclusione, progresso e attesa limitata nella sezione critica. Vengono illustrati strumenti che spaziano dal supporto hardware (CAS) a mutex, semafori e monitor, analizzando criticità di liveness come stallo e inversione di priorità. La selezione della tecnica più efficiente viene infine valutata in base al livello di contesa del sistema.</p>
<h2>Sincronizzazione dei Processi</h2>
<p>La sincronizzazione dei processi è uno dei problemi fondamentali dell’informatica dei sistemi. Quando più thread o processi accedono a dati condivisi, il rischio di inconsistenza diventa concreto. Comprendere e progettare correttamente la <strong>sezione critica</strong> è essenziale per garantire sicurezza, affidabilità e scalabilità.</p>
<h2>Il Problema della Sezione Critica</h2>
<p>Una <strong>sezione critica (Critical Section, CS)</strong> è la porzione di codice in cui un <a href="https://dino-996.github.io/blog/processi/">processo</a> o <a href="https://dino-996.github.io/blog/thread/">thread</a> accede e modifica risorse condivise.</p>
<p>Qualsiasi soluzione corretta deve soddisfare tre proprietà fondamentali:</p>
<ul>
<li><strong>Mutua esclusione</strong>: se un processo è nella CS, nessun altro può entrarvi.</li>
<li><strong>Progresso</strong>: la scelta del prossimo processo da far entrare non può essere rinviata indefinitamente.</li>
<li><strong>Attesa limitata</strong>: esiste un limite massimo al numero di accessi consentiti ad altri processi prima che una richiesta venga soddisfatta.</li>
</ul>
<h3>Kernel preemptive e non preemptive</h3>
<p>Nei kernel <strong>non preemptive</strong>, un processo in modalità kernel non viene interrotto fino al termine della sua esecuzione in tale modalità. Questo riduce il rischio di race condition interne al kernel, ma non costituisce una protezione generale: le condizioni di gara possono comunque verificarsi tra thread in user space o in sistemi multiprocessore.</p>
<p>Nei sistemi moderni, prevalentemente <strong>preemptive e multi-core</strong>, la sincronizzazione è un requisito strutturale.</p>
<h2>Modelli di Memoria e Riordino delle Istruzioni</h2>
<p>Le architetture moderne (x86, ARM, Power) adottano <strong>modelli di memoria debolmente ordinati</strong>. Compilatori e CPU possono riordinare le istruzioni per ottimizzazione.</p>
<p>Senza adeguate <strong>memory barrier</strong> o <strong>memory fence</strong> (istruzioni che impongono un vincolo sull’ordine con cui operazioni di lettura e scrittura in memoria possono essere eseguite e rese visibili agli altri thread), un algoritmo teoricamente corretto può fallire nella pratica.</p>
<p>Questo è il motivo per cui soluzioni puramente software come l’algoritmo di Peterson non sono affidabili su hardware moderno senza primitive di sincronizzazione esplicite.</p>
<h2>Soluzioni Software e Supporto Hardware</h2>
<h3>Algoritmo di Peterson</h3>
<p>Soluzione elegante per due processi basata su variabili condivise (<code>flag</code> e <code>turn</code>).</p>
<p>Limiti principali:</p>
<ul>
<li>Non scala oltre due thread.</li>
<li>Non sicura su architetture moderne senza memory fence.</li>
<li>Non adatta a sistemi ad alta contesa.</li>
</ul>
<p>È oggi più rilevante come esercizio teorico che come soluzione pratica.</p>
<h3>Primitive Atomiche Hardware</h3>
<p>Le CPU moderne offrono istruzioni atomiche come:</p>
<ul>
<li><code>test_and_set</code></li>
<li><code>compare_and_swap (CAS)</code></li>
</ul>
<p>Il <strong>CAS</strong> è particolarmente importante nei sistemi concorrenti moderni.</p>
<p>Esempio concettuale:</p>
<pre><code>CAS(address, expected, new_value)
</code></pre>
<p>Aggiorna il valore solo se coincide con <code>expected</code>.</p>
<p>Problemi possibili:</p>
<ul>
<li><strong>ABA problem</strong></li>
<li><strong>Starvation</strong> in presenza di alta contesa</li>
</ul>
<p>Queste primitive sono alla base di strutture dati <strong>lock-free</strong>.</p>
<h2>Strumenti di Sincronizzazione di Alto Livello</h2>
<h3>Mutex</h3>
<p>Strumento basilare per garantire mutua esclusione.</p>
<p>Due categorie principali:</p>
<ul>
<li><strong>Spinlock</strong>: attesa attiva (busy waiting). Efficiente per sezioni critiche molto brevi su sistemi multi-core.</li>
<li><strong>Mutex bloccanti</strong>: sospendono il thread, evitando spreco di CPU ma con overhead di context switch.</li>
</ul>
<h3>Semafori</h3>
<p>Variabili intere gestite tramite operazioni atomiche:</p>
<ul>
<li><code>wait()</code> (P)</li>
<li><code>signal()</code> (V)</li>
</ul>
<p>Possono essere:</p>
<ul>
<li><strong>Binari</strong> (equivalenti a mutex)</li>
<li><strong>Contatori</strong> (gestione pool di risorse)</li>
</ul>
<h3>Monitor</h3>
<p>Costrutti di alto livello che incapsulano:</p>
<ul>
<li>Dati condivisi</li>
<li>Procedure</li>
<li>Variabili condizionali</li>
</ul>
<p>Garantiscono mutua esclusione automatica.</p>
<h2>Esempi in Python e Java</h2>
<h3>Python (threading)</h3>
<pre><code class="language-python">import threading

lock = threading.Lock()
counter = 0

def increment():
    global counter
    with lock:
        counter += 1
</code></pre>
<p>Nota: a causa del <strong>GIL (Global Interpreter Lock)</strong>, il threading in CPython non è realmente parallelo su CPU-bound tasks.</p>
<hr>
<h3>Java</h3>
<pre><code class="language-java">import java.util.concurrent.atomic.AtomicInteger;

AtomicInteger counter = new AtomicInteger(0);

public void increment() {
    counter.incrementAndGet();
}
</code></pre>
<p>Java fornisce:</p>
<ul>
<li><code>synchronized</code></li>
<li><code>ReentrantLock</code></li>
<li>package <code>java.util.concurrent</code></li>
</ul>
<p>Il modello di memoria Java definisce formalmente la visibilità delle variabili condivise.</p>
<h2>Liveness e Problemi Classici</h2>
<p>La <strong>liveness</strong> misura la capacità del sistema di garantire progresso.</p>
<p>Principali criticità:</p>
<ul>
<li><strong>Deadlock</strong>: attesa circolare indefinita.</li>
<li><strong>Starvation</strong>: un processo non ottiene mai accesso alla risorsa.</li>
<li><strong>Priority Inversion</strong>: un processo ad alta priorità bloccato da uno a bassa priorità.</li>
</ul>
<p>Caso emblematico: <strong>Mars Pathfinder (1997)</strong>. Il problema fu risolto abilitando il meccanismo di <em>priority inheritance</em>.</p>
<h2>Sincronizzazione e Scalabilità in Ambiente Cloud Native</h2>
<p>Nei <strong>sistemi distribuiti</strong> (insieme di computer indipendenti che collaborano tra loro come se fossero un unico sistema coerente agli occhi dell’utente o delle applicazioni), la sincronizzazione non riguarda più solo thread locali.</p>
<p>Si utilizzano:</p>
<ul>
<li><strong>Lock distribuiti</strong> (meccanismo che garantisce mutua esclusione tra processi o servizi che girano su nodi diversi di un sistema distribuito) (<a href="https://redis.io/">Redis</a>, <a href="https://zookeeper.apache.org/">ZooKeeper</a>)</li>
<li><strong>Transazioni database</strong> (insieme di operazioni che vengono trattate con un'unica unità logica di lavoro)</li>
<li><strong>Algoritmi di consenso</strong> (meccanismo che permette a un insieme di nodi di un sistema distribuito di accordarsi su un singolo valore o decisione, anche in presenza di guasti o comunicazioni ritardate) (<a href="https://raft.github.io/raft.pdf">Raft</a>, <a href="https://www.cs.cornell.edu/home/rvr/Paxos/paxos.pdf">Paxos</a>) - Per approfondire: <a href="https://arxiv.org/abs/2004.05074">Paxos vs Raft: Have we reached consensus on distributed consensus?</a></li>
</ul>
<p>In architetture <strong>microservizi</strong>, l’eccesso di lock distribuiti può compromettere la scalabilità (intesa come capacità di un sistema di gestire un aumento del carico di lavoro senza degradare significativamente le prestazioni.).</p>
<p>Approcci moderni:</p>
<ul>
<li>Design <strong>event-driven</strong></li>
<li>Code di messaggi</li>
<li>Architetture idempotenti</li>
<li>Programmazione lock-free</li>
</ul>
<h2>Valutazione in Base al Livello di Contesa</h2>
<ul>
<li><strong>Bassa o moderata contesa</strong>: strutture basate su CAS spesso più performanti.</li>
<li><strong>Alta contesa</strong>: mutex e meccanismi bloccanti possono risultare più efficienti.</li>
</ul>
<p>La scelta dipende da:</p>
<ul>
<li>Durata della sezione critica</li>
<li>Numero di core</li>
<li>Pattern di accesso</li>
<li>Requisiti di latenza</li>
</ul>

  </section>

  <hr class="mt-5">
  
  <section class="mt-5" aria-label="Commenti e reazioni">
    <h2 class="h5 fw-bold mb-4">
      <i class="bi bi-chat-dots text-primary me-2"></i>Commenti
    </h2>

      <script>
      (function () {
        const saved = localStorage.getItem('bs-theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const theme = (saved === 'dark' || saved === 'light') ? saved : (prefersDark ? 'dark' : 'light');

        const script = document.createElement('script');
        script.src = 'https://giscus.app/client.js';
        script.setAttribute('data-repo', 'Dino-996/dino-996.github.io');
        script.setAttribute('data-repo-id', 'R_kgDORNULOw');
        script.setAttribute('data-category', 'Announcements');
        script.setAttribute('data-category-id', 'DIC_kwDORNULO84C24dr');
        script.setAttribute('data-mapping', 'pathname');
        script.setAttribute('data-strict', '0');
        script.setAttribute('data-reactions-enabled', '1');
        script.setAttribute('data-emit-metadata', '0');
        script.setAttribute('data-input-position', 'top');
        script.setAttribute('data-theme', theme);
        script.setAttribute('data-lang', 'it');
        script.setAttribute('data-loading', 'lazy');
        script.setAttribute('crossorigin', 'anonymous');
        script.async = true;

        document.currentScript.replaceWith(script);
      })();
    </script>

    <noscript>
      <p class="text-muted small">
        <i class="bi bi-info-circle me-1"></i>
        Per visualizzare i commenti è necessario abilitare JavaScript.
        Puoi leggere e partecipare alla discussione direttamente su
        <a href="https://github.com/Dino-996/dino-996.github.io/discussions" target="_blank" rel="noopener noreferrer">GitHub Discussions</a>.
      </p>
    </noscript>
  </section>

</article>
    </main>

    <footer class="border-top mt-auto py-4">
  <div class="container">
    <div class="row">
      <div class="col-md-6 mb-3 mb-md-0">
        <h5 class="fw-bold mb-3">
          <span><span class="text-primary">dino</span>-996</span>
        </h5>
        <p class="text-muted small mb-2">
          Developer portfolio e blog tecnico. Condivido articoli su programmazione, web development e tecnologie moderne.
        </p>
        <a href="/feed.xml" class="text-muted" aria-label="Feed RSS" target="_blank">
          <i class="bi bi-rss"></i>
        </a>
      </div>
      
      <div class="col-md-3 mb-3 mb-md-0">
        <h6 class="fw-bold mb-3">Navigazione</h6>
        <ul class="list-unstyled">
          <li class="mb-2">
            <a href="/" class="text-muted text-decoration-none small">Home</a>
          </li>
          <li class="mb-2">
            <a href="/blog/" class="text-muted text-decoration-none small">Blog</a>
          </li>
          <li class="mb-2">
            <a href="/about/" class="text-muted text-decoration-none small">About</a>
          </li>
        </ul>
      </div>
      
      <div class="col-md-2">
        <h6 class="fw-bold mb-3">Social</h6>
        <div class="d-flex gap-3">
          <a href="https://github.com/Dino-996" target="_blank" rel="noopener noreferrer" class="text-muted" aria-label="GitHub">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
            </svg>
          </a>
          <a href="https://linkedin.com/in/davidesabia" target="_blank" rel="noopener noreferrer" class="text-muted" aria-label="LinkedIn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16">
              <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/>
            </svg>
          </a>
        </div>
      </div>
    </div>
    
    <hr class="my-4" />
    
    <div class="row">
      <div class="col text-center">
        <p class="text-muted small mb-0">
          Realizzato con <span class="text-danger">❤</span> usando 
          <a href="https://www.11ty.dev/" target="_blank" rel="noopener noreferrer" class="text-decoration-none">Eleventy</a> 
          e <a href="https://getbootstrap.com/" target="_blank" rel="noopener noreferrer" class="text-decoration-none">Bootstrap</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- Bootstrap JS -->
    <script 
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous">
    </script>

    <!-- Bootstrap toggle menu -->
    <script>
      (function() {
        const userTheme = localStorage.getItem('bs-theme');
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      
        let theme = 'light'; // default
        if (userTheme === 'dark' || userTheme === 'light') {
          theme = userTheme;
        } else {
          theme = prefersDark ? 'dark' : 'light';
        }

        document.documentElement.setAttribute('data-bs-theme', theme);
      })();
    </script>

    <!-- Nomnoml (da fixare) -->
    <script src="https://cdn.jsdelivr.net/npm/nomnoml@1.5.2/dist/nomnoml.js"></script>


    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.28/dist/katex.min.js" integrity="sha384-+W9OcrYK2/bD7BmUAk+xeFAyKp0QjyRQUCxeU31dfyTt/FrPsUgaBTLLkVf33qWt" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.28/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>

    <script src="/assets/js/main.js"></script>
  </body>
</html>